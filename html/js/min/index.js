!function($){var method={scrollHeight:function(){$(window).scroll(function(){$(document).scrollTop()>0?$(".callback").fadeIn():$(".callback").fadeOut()}),$(".callback").on("click",function(){$("body,html").animate({scrollTop:"0px"},500)})},heart:function(){var t=0;$("body").on("click",function(i){var e="<span class='glyphicon glyphicon-heart heart num"+ ++t+"'></span>",s=$(document).scrollTop(),l=(i||window.event).clientY,o=(i||window.event).clientX,a=l+s;$("body").append(e),$(".num"+t).css({color:n(),top:a,left:o}).animate({top:a-80,opacity:.6},1e3,function(){$(this).remove()})});var n=function(){return["#99cc33","#ff9933","#ff99cc","#99ccff","#f08080","#8EE5EE","#8470FF","#CD3700","#F5DEB3","#e7afaf"][Math.floor(10*Math.random())]}},nav:function(){$(".nav_link").on("click",function(){$(".menu").stop().toggleClass("menu_run"),$(this).stop().toggleClass("open")})},link:function(){$(".feel span").click(function(t){t.stopPropagation()})},share:function(){with(window._bd_share_config={common:{bdSnsKey:{},bdText:"",bdMini:"2",bdPic:"www.jdqhy299.com/webjdq/html/images/logo.png",bdMiniList:!1,bdStyle:"1",bdSize:"32"},share:[]},document)(getElementsByTagName("head")[0]||body).appendChild(createElement("script")).src="http://bdimg.share.baidu.com/static/api/js/share.js?cdnversion="+~(-new Date/36e5)},hrefLink:function(){var t=window.location.href;-1!=t.indexOf("?id")&&(strs=t.split("?")[1].split("=")[1],$.ajax({url:"../data/new.json",dataType:"json",success:function(n){$.each(n,function(i){if(-1!=strs.indexOf("#")&&(strs=strs.substring(0,strs.indexOf("#"))),strs==n[i].id){var e=t.indexOf("id"),s=t.substring(0,e);$("title").html(n[i].title),$(".new-content").html(n[i].msg),$(".new h2").html(n[i].title),$(".myself").html(n[i].from),"转载"==n[i].from&&$(".myself").addClass("reprint"),n[i].id-1>0?$(".new-prev span").html(n[i-1].title)&&$(".new-prev").attr("href",s+"id="+n[i-1].id):$(".new-prev span").html("没有了")&&$(".new-prev").attr("href","javascript:;"),n[i].id+1<=n.length?$(".new-next span").html(n[i+1].title)&&$(".new-next").attr("href",s+"id="+n[i+1].id):$(".new-next span").html("没有了")&&$(".new-next").attr("href","javascript:;")}})},error:function(){alert("此新闻已经被删除")}}))}};method.scrollHeight(),method.heart(),method.nav(),method.link(),method.share(),$.fn.extend({jdqSlider:function(t){var n={el:".img",speed:500,switchBtn:!0,numBtn:!0,eventMode:"",auto:!0,loop:!0,pause:2e3,width:400,height:""},i=$.extend({},n,t);this.each(function(){function t(){s==a&&($(i.el).css({left:0}),s=1),-1==s&&($(i.el).css({left:-(a-1)*i.width}),s=a-2),$(i.el).stop().animate({left:-s*i.width},i.speed),s==a-1&&i.numBtn?$(i.el).siblings(".imgbtn").find("li").eq(0).addClass("active").siblings().removeClass("active"):$(i.el).siblings(".imgbtn").find("li").eq(s).addClass("active").siblings().removeClass("active")}var n=$(this),e=n.find("img"),s=0,l=i.width*(e.length+1),o=($(i.el).find("li").length,$(i.el).find("li").first().css({width:i.width,float:"left"}).clone()),a=$(i.el).find("li").size(),c=[],d=new function(){this.imgNum=function(t){return'<ul class="imgbtn" style="position:absolute;left:50%;bottom:40px;z-index:2;" >'+t+"</ul>"},this.btn='<div class="btn btn_l">&lt;</div><div class="btn btn_r">&gt;</div>'};i.loop&&($(i.el).append(o),a=$(i.el).find("li").size()),i.switchBtn&&($(d.btn).appendTo(this),$(".btn_l").on("click",function(n){n.stopPropagation(),s++,t()}),$(".btn_r").on("click",function(n){n.stopPropagation(),s--,t()})),n.css("width",i.width);for(var r=0;r<e.length;r++){var h=0==r?'<li class="active" style="cursor: pointer"></li>':'<li style="cursor: pointer"></li>';$(i.el).width(l),e.parent().css({float:"left",width:i.width,height:""==i.height?$(i.el).find("img").height():i.height}),c.push(h)}if(i.numBtn){$(this).append($(d.imgNum(c.join(""))));var f=$(".imgbtn").width()/2,p=n.find(".imgbtn").find("li");$(".imgbtn").css("margin-left",-f+"px"),p.on("click",function(t){t.stopPropagation();var n=$(this).index();s=n,$(i.el).stop().animate({left:-n*i.width},i.speed),$(this).addClass("active").siblings().removeClass("active")})}if(i.auto){var m=setInterval(function(){s++,t()},i.pause);$(this).hover(function(){clearInterval(m)},function(){m=setInterval(function(){s++,t()},2e3)})}})}}),$(window).load(function(){method.hrefLink()})}(jQuery);